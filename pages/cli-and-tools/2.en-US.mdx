import { Callout } from 'nextra-theme-docs';

# Step 2: Configure your app

After initialising the project, you can also add the dweb toolkits to your project.

```sh
ðŸ‘‰ Add toolkits? [y/n]: y
ðŸš§ Checking package version...
ðŸš¥ The latest version of create-dataverse-app is 1.0.6.
ðŸš” Validating app name...
ðŸšŽ Initing dataverse app...
ðŸ›Ÿ Preparing...
âœ… Done!
âœ¨ To get started:

ðŸ“¦ cd demo
ðŸ”§ add your data models into ./models
ðŸ”§ configure your dapp in dataverse.config.ts
   dataverseos deploy
   pnpm install
   pnpm build
   pnpm dev
```

Open the project created in the previous step. The project structure should be like

```json
.
â”œâ”€â”€ LICENSE
â”œâ”€â”€ README.md
â”œâ”€â”€ dataverse.config.ts  // config your app basic information here
â”œâ”€â”€ index.html
â”œâ”€â”€ models  // data models pre-defined here
â”‚   â”œâ”€â”€ fs  // file system data models
â”‚   â”œâ”€â”€ toolkits  // dweb toolkits
â”‚   â”œâ”€â”€ post.graphql  // post data model, an example as a post of web3 social app
â”‚   â””â”€â”€ profile.graphql  // profile data model, an example as user profile of web3 social
â”œâ”€â”€ output
â”‚   â””â”€â”€ app.json  // generated after app creation, contains app information
â”œâ”€â”€ package.json
â”œâ”€â”€ .env.example
â”œâ”€â”€ src  // demo source code
â”‚   â”œâ”€â”€ components
â”‚   â”œâ”€â”€ pages
â”‚   â”œâ”€â”€ global.css
â”‚   â”œâ”€â”€ App.tsx
â”‚   â”œâ”€â”€ index.css
â”‚   â”œâ”€â”€ main.tsx
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ vite.svg
â””â”€â”€ vite.config.ts
```

Open `dataverse.config.ts`, you can configure your app's basic information here.

```typescript
export const config = {
  name: "dataverse_app_with_toolkits_example", // app name should NOT contain "-"
  logo: "https://bafybeifozdhcbbfydy2rs6vbkbbtj3wc4vjlz5zg2cnqhb2g4rm2o5ldna.ipfs.w3s.link/dataverse.svg",
  website: [], // you can use localhost:(port) for testing
  defaultFolderName: "Main",
  description: "This is dataverse app example.",
  models: [
    {
      isPublicDomain: false, // default
      schemaName: "post.graphql",
      encryptable: ["text", "images", "videos"], // strings within the schema and within the array represent fields that may be encrypted, while fields within the schema but not within the array represent fields that will definitely not be encrypted
    },
    {
      isPublicDomain: true,
      schemaName: "profile.graphql",
      encryptable: [],
    },
    {
      isPublicDomain: false,
      schemaName: "channel.graphql",
      encryptable: [],
    },
    {
      isPublicDomain: false,
      schemaName: "chatmessage.graphql",
      encryptable: ["link", "cid"],
    },
    {
      isPublicDomain: false,
      schemaName: "notification.graphql",
      encryptable: [],
    },
    {
      isPublicDomain: false,
      schemaName: "chatgpgkey.graphql",
      encryptable: ["pgp_key"],
    },
    {
      isPublicDomain: false,
      schemaName: "livepeerasset.graphql",
      encryptable: ["storage", "playback_id"],
    },
    {
      isPublicDomain: false,
      schemaName: "table.graphql",
      encryptable: [],
    },
    {
      isPublicDomain: false,
      schemaName: "xmtpmessage.graphql",
      encryptable: ["content"],
    },
    {
      isPublicDomain: false,
      schemaName: "xmtpkeycache.graphql",
      encryptable: ["keys"],
    },
    {
      isPublicDomain: false,
      schemaName: "lenspublication.graphql",
      encryptable: [],
    },
    {
      isPublicDomain: false,
      schemaName: "lenscollection.graphql",
      encryptable: [],
    },
    {
      isPublicDomain: false, // default
      schemaName: "snapshotproposal.graphql",
      encryptable: [], // strings within the schema and within the array represent fields that may be encrypted, while fields within the schema but not within the array represent fields that will definitely not be encrypted
    },
    {
      isPublicDomain: false, // default
      schemaName: "snapshotvote.graphql",
      encryptable: [], // strings within the schema and within the array represent fields that may be encrypted, while fields within the schema but not within the array represent fields that will definitely not be encrypted
    },
  ],
  ceramicUrl: null, // leave null to use dataverse test Ceramic node. Set to {Your Ceramic node Url} for mainnet, should start with "https://".
};
```

You can config your app slug (as a unique identifier), name, logo image URL, description,
models, etc. here. For development and testing, you may set the website to 'localhost'.
For production usage, you should set the website to your app's domain name. The `defaultFolderName`
is the default folder path when a user creates data under your app.
The `models` are the data models to use in your app. You can define your own data models in the `models` folder.
For more info about data models, please refer to [Step 3](#step-3-customize-data-models).

`isPublicDomain` specifies whether the data model can be used by other apps. If you set it to true, other developers
can use your data model in their apps. If you set it to false, other developers can NOT use your data model, only
your app can use it and access the data resources under this model.

`schemaName` refers to the data model file name under the `models` folder. For example, if you want to use the `post` model,
`schemaName` should be `post.graphql`.

The `encryptable` is an array used to specify which fields in the data model can be encrypted. Fields not in the `encryptable` list
will always be open and can be accessed by anyone. Fields in the `encryptable` list can be encrypted by the app developers.
For example, if you set `encryptable` to `['text', 'images', 'videos']`, the `text`, `images` and `videos` fields in the `post` model
can be encrypted by the app developers. They are not necessarily encrypted, but can be encrypted if the app developers want to.
Meanwhile, the fields not in the `encryptable` array will always be open and can be accessed by anyone.

<Callout type="info">
  Note that if a model is configured as `isPublicDomain: true`, the
  `encryptable` field will be ignored, because the whole model is public and
  thus all fields need to be open. And if a model is configured as
  `isPublicDomain: false`, the `encryptable` field is required. if you don't
  want to encrypt any fields, you can set `encryptable` to an empty array `[]`.
</Callout>

The `ceramicUrl` is the Ceramic node URL to use. If you leave it null, the app will use the test Ceramic node
provided by DataverseOS.

<Callout>
  Note that the test ceramic node of DataverseOS is just for development and
  testing, and the data on it will be cleared regularly. So you should use your
  own Ceramic node for production usage. And DON'T put any important data on
  the test node.
</Callout>
