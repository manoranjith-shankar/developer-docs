import { Callout } from 'nextra-theme-docs';

# unlock

Unlock a monetized file/folder. First will check if the decryptionConditions have been met.
If so, will mint a Collect NFT and unlock the file/folder.

## Usage
```js
await dataverseConnector.unlock({
  indexFileId:
    "kjzl6kcym7w8y5xf0j7kmies5i30f86xlerbfp42qnxju2vfno1io6i04sy2p2d",  // or indexFileId | streamId
});

```

## Parameters
```js
{
    streamId?: string;
    indexFileId?: string;
}
```
- `streamId`: `string` - The stream id if you are unlocking a data stream
- `indexFileId`: `string` - The index file id if you are unlocking a file

## Returns
```js
{
  streamContent: {
    file: Omit<MirrorFile, "fileKey" | "content">;
    content: StreamContent | string;
  };
}
```
<Callout>
    This function will send a transaction to mint an NFT, currently on Mumbai (Polygon Testnet).
</Callout>

Example:
```json
{
  "streamContent": {
    "content": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABEQAAA...",
    "file": {
      "indexFileId": "kjzl6kcym7w8y9xhm86pip8s7mtn33wgu16o4pvzv03azhyz4evdg2kqvojtcd9",
      "appVersion": "0.2.0",
      "contentId": "QmNLq5E8tnrwkWUBkNM9dQMkGhMtkSirApMP85zUhGTt8s",
      "contentType": "CID",
      "comment": {
        "mirrorName": "Screenshot 2023-06-04 at 00.13.00.png",
        "note": "",
        "tags": []
      },
      "datatokenId": "0x6DE7Fa42092441c6cB048211eC1370EA653F7eD1",
      "fileType": 2,
      "encryptedSymmetricKey": "03ccce5e32184f9deaed7ea796978fbf18c1dacfc52cb2187ac61921e5f8b4de14eea236989b31be9b4b326c6d22760a62e8afb4b348f6a356ed37926563852da9bd51c6904a474fec68dd237224b8b5dba7029b018d016b96f12a7b1b6202a4541142910a1fff130f47cd1ce7b437f11dff209e70ad1b9c9012f366a92ba7ec00000000000000201523af2fb430d6cd85d2cf3458226a85aaa31fc35037bf382b523c090ad3bf3be2ae4f78a993f38fa0f9e4e185ec8e8b",
      "decryptionConditions": [
        ...
      ],
      "decryptionConditionsType": "UnifiedAccessControlCondition",
      "createdAt": "2023-06-09T10:45:11.869Z",
      "updatedAt": "2023-06-09T10:46:27.154Z"
    }
  }
}
```
